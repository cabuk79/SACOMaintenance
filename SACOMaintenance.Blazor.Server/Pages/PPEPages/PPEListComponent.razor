@page "/ppe-list"
@inject SACOMaintenance.ViewModel.Interfaces.IPPEViewModel ppeViewModel
@using SACOMaintenance.Common.ModelDB

<h3>List of PPE Equipment</h3>

<a href="@($"ppe/create/")" class="btn btn-primary">
    <i class="fa fa-plus-square"></i> Add New PPE
</a>
 
<RadzenGrid Data="@ppeViewModel.PPEList">
    <Columns>
        <RadzenGridColumn TItem="PPE" Property="Id"></RadzenGridColumn>
        <RadzenGridColumn TItem="PPE" Property="PPEName"></RadzenGridColumn>
        <RadzenGridColumn TItem="PPE" Property="IconLocation">
            <Template Context="data">
                <RadzenImage Path="@data.IconFileLocation" Style="width:30px"></RadzenImage>
            </Template>
        </RadzenGridColumn>
    </Columns>
</RadzenGrid>

@code{

    protected override async Task OnInitializedAsync()
    {
        Task.Run(async () => { await ppeViewModel.LoadAllPPE(); }).Wait();
    }

}
