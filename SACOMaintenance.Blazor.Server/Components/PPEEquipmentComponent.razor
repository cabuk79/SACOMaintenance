@using SACOMaintenance.Common.ModelDB

<div class="row">
    <div class="col-lg-12">
        @if (colour == "red")
        {
            <RadzenCard Style="width: 150px; height: 200px; border-color: red; background-color: red">
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-12 d-flex justify-content-center">
                        <RadzenImage Path="@ppe.IconFileLocation" Style="width: 75px; align-content: center" />
                    </div>
                </div>
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-12 d-flex justify-content-center">
                        <RadzenLabel Text="@ppe.PPEName" Style="align-items: center; width=100%; color: white" />
                    </div>
                </div>
            </RadzenCard>
        }
        else if (colour == "black")
        {
            <RadzenCard Style="width: 150px; height: 200px; border-color: black; background-color: white">
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-12 d-flex justify-content-center">
                        <RadzenImage Path="@ppe.IconFileLocation" Style="width: 75px; align-content: center" />
                    </div>
                </div>
                <div class="row d-flex justify-content-center">
                    <div class="col-lg-12 d-flex justify-content-center">
                        <RadzenLabel Text="@ppe.PPEName" Style="align-items: center; width=100%; color: black" />
                    </div>
                </div>
            </RadzenCard>
        }
    </div>
</div>
<div class="row">
        <div class="col-lg-12">
            <button class="btn btn-primary"@onclick="maintppeChanged">
            @if(colour == "red")
            {
                <RadzenLabel Text="Remove"></RadzenLabel>
            }
             else
            {
                <RadzenLabel Text="Add"></RadzenLabel>
            }
            </button>
        </div>
    </div>



@code {
    [Parameter]
    public PPE ppe { get; set; }

    [Parameter]
    public EventCallback<MaintRequestInitiation> maintReqChanged { get; set; }

    [Parameter]
    public string colour { get; set; }

    [Parameter]
    public MaintRequestInitiation maintReq { get; set; }


    private void maintppeChanged()
    {
        if (colour == "red")
        {
            colour = "black";
            var reqid = maintReq.PPEEquipment;

            maintReq.PPEEquipment.RemoveAll(i => i.Id == ppe.Id);

            maintReqChanged.InvokeAsync(maintReq);
        }
        else
        {
            colour = "red";
            maintReq.PPEEquipment.Add(ppe);
        }
    }


}
